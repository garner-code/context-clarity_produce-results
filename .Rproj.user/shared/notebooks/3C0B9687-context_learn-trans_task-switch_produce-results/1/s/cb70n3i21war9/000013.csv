"0",""
"0","# first set the factors to be factors"
"0","jumps$sub <- as.factor(jumps$sub)"
"0","jumps$train_type <- as.factor(jumps$train_type)"
"0","levels(jumps$train_type) <- c('stable','variable')"
"0","jumps$switch <- as.factor(jumps$switch)"
"0","levels(jumps$switch) <- c('stay','switch')"
"0",""
"0","# now run the ANOVA model"
"0","# set emmeans option to multivariate"
"0","afex_options(emmeans_model = ""multivariate"")"
"0","# perform the statistical model"
"0","exp_strs <- unique(jumps$exp)"
"0","tj_aovs <- lapply(exp_strs, function(x) "
"0","  aov_ez(""sub"", ""jumps"", jumps %>% filter(exp == x), "
"0","         within = ""switch"","
"0","         between = ""train_type""))"
"2","G3;Contrasts set to contr.sum for the following variables: train_type
g"
"2","G3;Contrasts set to contr.sum for the following variables: train_type
g"
"0","names(tj_aovs) <- exp_strs"
"0",""
"0","# convert the anovas to a dataframe, save the results and show as a table"
"0","convert_aov_to_df <- function(aovl, exp_str){"
"0","  ref = aovl$anova_table"
"0","  tibble(exp = rep(exp_str, length(ref$F)),"
"0","         effect = rownames(ref),"
"0","         numDF = ref$`num Df`,"
"0","         denDF = ref$`den Df`,"
"0","         Fstat = ref$F,"
"0","         ges = ref$ges,"
"0","         p = ref$`Pr(>F)`)"
"0","}"
"0","tj_aov_dat <- do.call(rbind, "
"0","                      lapply(1:length(exp_strs),"
"0","                             function(x) convert_aov_to_df(tj_aovs[[x]],"
"0","                                                           exp_strs[x])))"
"0","# do some manual rounding of columns"
"0","tj_aov_dat$Fstat <- round(tj_aov_dat$Fstat, 2)"
"0","tj_aov_dat$ges <- round(tj_aov_dat$ges, 3)"
"0","tj_aov_dat$p <- round(tj_aov_dat$p, 3)"
"0",""
"0","# now an id column for referencing in overleaf"
"0","tj_aov_dat$id <- paste(tj_aov_dat$exp, tj_aov_dat$effect, sep=""_"") "
"0","write.csv(tj_aov_dat, paste(res_path, 'task_jumps_aov.csv', sep=""""), row.names=FALSE)"
"0",""
